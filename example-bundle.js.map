{"version":3,"sources":["webpack:///webpack/bootstrap bb31945979724c27c8ea","webpack:///./C:/Users/Fabio/Dropbox/USP/Mestrado/Dev/react-nmap/example/example.js","webpack:///./C:/Users/Fabio/Dropbox/USP/Mestrado/Dev/react-nmap/src/react-nmap.js"],"names":["$","on","loadDataset","value","dataset","d3","csv","error","data","windowWidth","window","width","windowHeight","height","html","colorScale","indexOf","scale","linear","domain","extent","d","parseFloat","class","range","category10","ReactDOM","render","document","getElementById","val","Nmap","props","cs","elements","i","length","push","nmap_element","id","x","y","weight","klass","map","nmap","parseInt","nmapData","method","equalWeight","alternateCut","svg","select","svgId","remove","append","attr","selectAll","enter","element","React","Component"],"mappings":"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","file":"example-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bb31945979724c27c8ea","import Nmap from './../src/react-nmap';\r\n\r\n//Static data\r\n/*\r\nconst data = [\r\n    {id: 1,x: 10, y: 10,weight: 1,class: 1},\r\n    {id: 2,x: 20, y: 20,weight: 1,class: 2},\r\n    {id: 3,x: 30, y: 30,weight: 1,class: 3},\r\n    {id: 4,x: 40, y: 40,weight: 1,class: 4},\r\n    {id: 5,x: 50, y: 50,weight: 1,class: 5}\r\n];\r\nReactDOM.render(<Nmap data={data} width=\"1000\" height=\"600\" svgId=\"nmap\" method=\"ac\" />,document.getElementById('app'));\r\n*/\r\n\r\n//Data from CSV\r\n\r\n\r\n$(\"#selectConfig\").on(\"change\", function() {\r\n    loadDataset(this.value);\r\n});\r\n\r\nfunction loadDataset (dataset) {\r\n    d3.csv(\"data/\" + dataset, function(error, data) {\r\n        var windowWidth = $(window).width() - 10;\r\n        var windowHeight = $(window).height() - 70;\r\n        $(\"#app\").html(\"\");\r\n        var colorScale = ([\"configuration01.csv\",\"londonBoroughsCrimeRates.csv\",\"londonBoroughsHousePrice.csv\",\"londonBoroughsPopulation.csv\"].indexOf(dataset) > -1) ?\r\n            d3.scale.linear()\r\n                .domain(d3.extent(data, function (d) { return parseFloat(d.class)}))\r\n                .range([\"#c6dbef\",\"#08306b\"])\r\n            :  d3.scale.category10();\r\n\r\n\r\n        ReactDOM.render(<Nmap data={data} width={windowWidth} height={windowHeight} colorScale={colorScale} svgId=\"nmap\" method=\"ac\" />,document.getElementById('app'));\r\n    });\r\n}\r\n\r\nloadDataset($(\"#selectConfig\").val());\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/Fabio/Dropbox/USP/Mestrado/Dev/react-nmap/example/example.js","export default class Nmap extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        var data = this.props.data;\r\n        var cs = this.props.colorScale;\r\n        var elements = [];\r\n        for(var i = 0; i<data.length; i++){\r\n            elements.push(new nmap_element({\r\n                id:data[i].id,\r\n                x:data[i].x,\r\n                y:data[i].y,\r\n                weight:((\"weight\" in data[i]) ? data[i].weight : 1),\r\n                klass:((\"class\" in data[i]) ? data[i].class : 1)\r\n            }));\r\n        }\r\n        var map = new nmap({x:0, y:0, width:parseInt(this.props.width), height:parseInt(this.props.height)});\r\n        var nmapData = null;\r\n        if (this.props.method == \"ew\") {\r\n            nmapData = map.equalWeight({elements:elements});\r\n        } else {\r\n            nmapData = map.alternateCut({elements:elements});\r\n        }\r\n\r\n        const svg = d3.select(\"#\" + this.props.svgId);\r\n        svg.select(\"g.nmap\").remove();\r\n        svg.append(\"g\").attr(\"class\", \"nmap\").selectAll(\"rect\")\r\n            .data(nmapData).enter().append(\"rect\")\r\n            .attr(\"x\", function(d){ return d.attr().x })\r\n            .attr(\"y\", function(d){ return d.attr().y })\r\n            .attr(\"fill\", function (d) { return cs(parseFloat(d.attr().element.attr().klass))})\r\n            .attr(\"width\", function(d){ return d.attr().width })\r\n            .attr(\"height\", function(d){ return d.attr().height });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <svg id={this.props.svgId} width={this.props.width} height={this.props.height}></svg>\r\n    );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/Fabio/Dropbox/USP/Mestrado/Dev/react-nmap/src/react-nmap.js"],"sourceRoot":""}